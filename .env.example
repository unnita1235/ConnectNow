# =============================================================================
# ConnectNow Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your values
# Never commit .env.local to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Local: postgresql://user:password@localhost:5432/connectnow_dev
# Supabase: postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres
# Neon: postgresql://user:password@ep-xxx.us-east-1.aws.neon.tech/neondb
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/connectnow_dev"

# Direct connection (for migrations, bypasses connection pooler)
# Only needed if using Supabase or similar with connection pooling
DIRECT_URL="postgresql://postgres:postgres@localhost:5432/connectnow_dev"

# -----------------------------------------------------------------------------
# REDIS (for Socket.io adapter and caching)
# -----------------------------------------------------------------------------
# Local: redis://localhost:6379
# Upstash: redis://default:xxx@xxx.upstash.io:6379
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# NEXTAUTH.JS AUTHENTICATION
# -----------------------------------------------------------------------------
# Generate a secret: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-min-32-characters-here"

# Your app URL (no trailing slash)
NEXTAUTH_URL="http://localhost:3000"

# Callback URL for OAuth providers
NEXTAUTH_CALLBACK_URL="http://localhost:3000/api/auth/callback/credentials"

# JWT settings
JWT_SECRET="your-jwt-secret-key-min-32-characters-here"
JWT_EXPIRY="15m"
REFRESH_TOKEN_EXPIRY="7d"

# -----------------------------------------------------------------------------
# OAUTH PROVIDERS (Optional)
# -----------------------------------------------------------------------------
# Google OAuth
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# GitHub OAuth
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Discord OAuth
DISCORD_CLIENT_ID=""
DISCORD_CLIENT_SECRET=""

# -----------------------------------------------------------------------------
# SOCKET.IO REAL-TIME SERVER
# -----------------------------------------------------------------------------
# URL of the Socket.io server
# Local development: http://localhost:3001
# Production: https://your-socket-server.railway.app
NEXT_PUBLIC_SOCKET_SERVER_URL="http://localhost:3001"

# Socket.io secret for server-to-server auth
SOCKET_SECRET="your-socket-secret-key"

# Socket.io admin UI password
SOCKET_ADMIN_PASSWORD="admin-password"

# -----------------------------------------------------------------------------
# FILE UPLOADS - CLOUDINARY
# -----------------------------------------------------------------------------
# Get these from https://cloudinary.com/console
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=""
CLOUDINARY_API_KEY=""
CLOUDINARY_API_SECRET=""

# Upload preset (create in Cloudinary dashboard)
CLOUDINARY_UPLOAD_PRESET="connectnow_uploads"

# Max file size in bytes (50MB)
MAX_FILE_SIZE="52428800"

# -----------------------------------------------------------------------------
# FILE UPLOADS - AWS S3 (Alternative to Cloudinary)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET=""

# -----------------------------------------------------------------------------
# WEBRTC VIDEO CALLS
# -----------------------------------------------------------------------------
# STUN servers (public Google STUN servers)
NEXT_PUBLIC_STUN_SERVERS="stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302"

# TURN server (for relaying when STUN fails)
NEXT_PUBLIC_TURN_SERVER=""
TURN_USERNAME=""
TURN_PASSWORD=""

# -----------------------------------------------------------------------------
# AI / GENKIT (Already configured in your project)
# -----------------------------------------------------------------------------
# Google AI API key for Genkit
GOOGLE_GENAI_API_KEY=""

# -----------------------------------------------------------------------------
# FIREBASE (Already configured in your project)
# -----------------------------------------------------------------------------
# Firebase config (for Firebase Auth if using)
NEXT_PUBLIC_FIREBASE_API_KEY=""
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=""
NEXT_PUBLIC_FIREBASE_PROJECT_ID=""
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=""
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=""
NEXT_PUBLIC_FIREBASE_APP_ID=""

# Firebase Admin SDK
FIREBASE_ADMIN_PROJECT_ID=""
FIREBASE_ADMIN_CLIENT_EMAIL=""
FIREBASE_ADMIN_PRIVATE_KEY=""

# -----------------------------------------------------------------------------
# MONITORING & ANALYTICS
# -----------------------------------------------------------------------------
# Sentry error tracking
SENTRY_DSN=""
NEXT_PUBLIC_SENTRY_DSN=""

# LogRocket session replay
NEXT_PUBLIC_LOGROCKET_APP_ID=""

# PostHog analytics
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# Upstash Redis for rate limiting (if different from main Redis)
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# Rate limit defaults
RATE_LIMIT_REQUESTS_PER_MINUTE="100"
RATE_LIMIT_REQUESTS_PER_HOUR="1000"

# -----------------------------------------------------------------------------
# EMAIL (for password reset, notifications)
# -----------------------------------------------------------------------------
# SendGrid
SENDGRID_API_KEY=""
SENDGRID_FROM_EMAIL="noreply@connectnow.dev"

# Or Resend
RESEND_API_KEY=""

# Or SMTP
SMTP_HOST=""
SMTP_PORT="587"
SMTP_USER=""
SMTP_PASSWORD=""
SMTP_FROM=""

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
# Environment
NODE_ENV="development"

# App settings
NEXT_PUBLIC_APP_NAME="ConnectNow"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Feature flags
NEXT_PUBLIC_ENABLE_VIDEO_CALLS="true"
NEXT_PUBLIC_ENABLE_FILE_UPLOADS="true"
NEXT_PUBLIC_ENABLE_AI_FEATURES="true"

# -----------------------------------------------------------------------------
# DEVELOPMENT ONLY
# -----------------------------------------------------------------------------
# Enable Prisma Studio
PRISMA_STUDIO_PORT="5555"

# Enable debug logging
DEBUG="prisma:*,socket.io:*"
